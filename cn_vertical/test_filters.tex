\documentclass{guji}

% Use standard settings for testing logic
\gujiSetup{
    debug=true
}

\begin{document}

\begin{guji-content}
    % Case 1: CJK with natural newline (should be swallowed)
    这是第一行文字
    这是同一段文字中间有换行
    应该无缝连接

    % Case 2: CJK with explicit space (should be kept)
    这是前半段\ \ \ \ 这是显式空格隔开的后半段

    % Case 3: Paragraph break
    这是第一段结尾。
    
    这是第二段开头（换列）。

    % Case 4: Page break
    这是第一页内容到此结束。
    \newpage
    这是第二页内容应当在新的一栏开始，且前一页可能有大片空白。
\end{guji-content}

\end{document}
