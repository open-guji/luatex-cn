\documentclass{article}
\usepackage{fontspec}
\newfontfamily\twkai{TW-Kai}[
    RawFeature={+vert,+vrt2}, % 开启竖排字形替换（如标点旋转）
    CharacterWidth=Full,      % 强制全角宽度
]

% 如果你想将其设为全局正文字体
\setmainfont{TW-Kai}[RawFeature={+vert,+vrt2}]
\usepackage{cn_vertical}

\begin{document}
\parindent=0pt
\Large

\section{Grid Layout Test}

Testing the new grid-based layout logic.

\subsection{With explicit grid size}

\VerticalRTT[height=300pt, grid-width=25pt, grid-height=20pt, cols=10, debug=true]{
    天地玄黄宇宙洪荒日月盈昃辰宿列张
    一二三四
}

\vspace{1cm}

\subsection{Default grid size (1.5em)}

\VerticalRTT[cols=10, debug=true]{
    天地玄黄宇宙洪荒日月盈昃辰宿列张
    寒来暑往秋收冬藏
    闰余成岁律吕调阳
}

\vspace{1cm}

\subsection{乌丝栏 (Column Borders)}

\VerticalRTT[cols=10, border=true]{
    天地玄黄宇宙洪荒日月盈昃辰宿列张
    寒来暑往秋收冬藏
    闰余成岁律吕调阳
}

\vspace{1cm}

\subsection{Small font comparison}

{\normalsize
\VerticalRTT[cols=10, border=true]{
    天地玄黄宇宙洪荒日月盈昃辰宿列张
    寒来暑往秋收冬藏
    闰余成岁律吕调阳
}
}

\end{document}
