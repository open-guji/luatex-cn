% Copyright 2026 Open-Guji (https://github.com/open-guji)
%
% Licensed under the Apache License, Version 2.0 (the "License");
% you may not use this file except in compliance with the License.
% You may obtain a copy of the License at
%
%     http://www.apache.org/licenses/LICENSE-2.0
%
% Unless required by applicable law or agreed to in writing, software
% distributed under the License is distributed on an "AS IS" BASIS,
% WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
% See the License for the specific language governing permissions and
% limitations under the License.

% luatex-cn-digital-HongLouMengJiaXuBen.cfg
% Configuration for Hong Lou Meng Jiaxu Ben (红楼梦甲戌本) - guji-digital version
% Identical to guji version for pixel-perfect matching

% ==========================================================================
% Page Geometry (Spread - two pages side by side)
% ==========================================================================
\pageSetup{
    paper-width = 1077.2pt,   % 38cm (19cm × 2)
    paper-height = 1077.2pt,  % 38cm
    margin-top = 226.8pt,     % ~8cm
    margin-bottom = 113.4pt,  % ~4cm
    margin-left = 25.5pt,     % ~0.9cm
    margin-right = 25.5pt,    % ~0.9cm
}

% ==========================================================================
% Typography (guji-specific)
% ==========================================================================
\gujiSetup{
    % line-spacing = 45pt,
    % Font settings are optional - users can load fontspec and set fonts in their document
}

% ==========================================================================
% Content Configuration (Grid, Typography, and Border)
% ==========================================================================
\contentSetup{
    % Grid Configuration (25 cols × 18 chars)
    % Number of columns per half page (excluding Banxin center column)
    n-column = 12,
    % Typography
    font-size = 30pt,
    line-spacing = 45pt,
    vertical-align = center,
    % Number of characters per column (grid-height auto-calculated)
    n-char-per-col = 18,
    border = false,
    outer-border = false,
    border-padding-top = 3pt,
    border-padding-bottom = 3pt,
}

\sidenodeSetup{
    color = red,
    font-size = 19pt,
    grid-height = 20pt,
    yoffset = 0em,
    border-padding-top = 0.5em,
    border-padding-bottom = 0.5em,
}

\pizhuSetup{
    color = 1 0 0,
    font-size = 18pt,
    grid-width = 20pt,
    grid-height = 19pt,
}

\jiazhuSetup{
    align = outward,
}

% =============================================================================
% Banxin (版心) Configuration
% =============================================================================
% Jiaxu edition has a narrower banxin with distinctive proportions
% Upper section for title, middle for content, lower with fish tail
\banxinSetup{
    banxin-upper-ratio = 0.18,
    banxin-middle-ratio = 0.38,
    % Jiaxu edition characteristics: No yuwei, no dividers
    upper-yuwei = false,
    lower-yuwei = false,
    banxin-divider = false,
    banxin-padding-top = 0pt,
    book-name = {
        align = top,
        grid-height = 38pt,
    },
    chapter = {
        font-size = 24pt,
        grid-height = 55pt,
        top-margin = 40pt,
        cols = 1,
    },
    page-number = {
        font-size = 17pt,
    },
}

\endinput
